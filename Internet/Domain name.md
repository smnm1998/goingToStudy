# 도메인 네임

## 요약
도메인 네임은 인터넷 인프라의 핵심 요소로, 인터넷에서 사용할 수 있는 모든 웹 서버에 대해 사람이 읽을 수 있는 주소를 제공한다.
<br><br>
인터넷에 연결된 모든 컴퓨터는 공용 IP 주소를 통해 접근할 수 있다. 이는 IPv4주소 또는 IPv6 주소일 수 있다.
<br><br>
컴퓨터는 이러한 주소를 쉽게 처리할 수 있지만, 사람들은 서버 운영자가 누구인지 또는 해당 웹사이트가 어떤 서비스를 제공하는지 파악하기 어렵다.
IP 주소는 기억하기 어렵고 시간이 지나면서 변경될 수도 있다.
<br><br>
이러한 문제를 해결하기 위해, 우리는 사람이 읽을 수 잇는 주소인 도메인 네임을 사용한다.

## 도메인 네임의 구조
도메인 이름은 여러 부분(1개, 2개 또는 3개 이상)으로 이루어져 있으며, 점(`.`)으로 구분되고 오른쪽에서 왼쪽 순서로 읽는다.

<br>
<p align="center">
  <img 
    src="https://developer.mozilla.org/en-US/docs/Learn_web_development/Howto/Web_mechanics/What_is_a_domain_name/structure.png"
    />
</p>
<br>

각각의 부분은 전체 도메인 이름에 대한 특정 정보를 제공한다.

### TLD(최상위 도메인)
TLD는 도메인 이름 뒤에 숨겨진 서비스의 일반적인 목적을 사용자에게 알려준다. 가장 일반적인 TLD(`.com`, `.org`, `.net`)는 특정 기준을 충족하지 않아도 되지만, 일부 TLD는 더 엄격한 정책을 시행하여 목적을 더 명확히 한다.

- **지역 TLD**는해당 언어로 서비스가 제공되거나 특정 국가에 호스팅되도록 요구할 수 있다. 이는 특정 언어 도는 국가의 리소스를 나타낸다.
- **.gov**가 포함된 TLD는 정부 부서만 사용할 수 있다.
- **.edu** TLD는 교육 및 학술 기관에서만 사용 가능하다.
<br>
TLD는 라틴 문자를 포함하여 특수 문자도 포함할 수 잇다. TLD는 최대 길이 63자이며, 대부분은 2~3자 정도이다.TLD의 전체 목록은 ICANN에서 관리한다.

### 라벨
라벨은 TLD 뒤에 있는 요소이다. 라벨은 대소문자를 구분하지 않으며, 1~63자의 문자로 구성될 수 있다. 라벨은 A에서 Z까지의 문자, 0에서 9까지의 숫자 그리고 '-'문자만 포함할 수 있다.<br>
`-`문자는 라벨의 첫 번째나 마지막에 올 수 없다. 예를 들어, `a`,`97`,`hello-strange-person-16-how-are-yoy`는 모두 유효한 라벨이라고 볼 수 있다. <br><br>
TLD 바로 앞에 위치한 라벨은 **2차 라벨 도메인(SLD)** 이라고도 불린다. 도메인 이름은 여러 라벨을 가질 수 있다. 도메인 이름을 형성하기 위해 반드시 3개의 라벨이 필요하지는 않다. <br>
예시로 `information.ed.ac.uk`는 유효한 도메인인 것이다. <br><br>
관리 중인 도메인의 경우, 각기 다른 콘텐츠를 담은 서브도메인을 생성할 수 있다.

- `developer.mozilla.org`
- `support.mozilla.org`
- `bugzilla.mozilla.org`
<br>
이런 방식으로 말이다.

## 도메인 네임 구매
### 도메인 네임은 누가 소유하는가?
도메인 네임을 구매할 수는 없다. 이는 사용되지도 않는 도메인 이름이 결국 다른 사람이 다시 사용할 수 있도록 하기 위해서이다. 만약 모든 도메인 이름이 구매되었다면, 웹은 아무도 사용할 수 없는 채로 잠긴 사용되지 않는 도메인 이름으로 빠르게 가득찰 것이다. <br><br>
대신, 도메인 이름을 1년 또는 그 이상의 기간 동안 사용할 권리를 위해 비용을 지불한다. 사용 권리를 갱신할 수 있으며, 갱신 시 다른 사람들의 신청보다 우선권이 주어진다. 하지만 도메인 이름을 소유하는 것은 아니다. <br><br>
도메인 이름 등록기간이라 불리는 회사들은 도메인 네임 레지스트리를 사용하여 기술적 및 관리 정보를 추적하며, 이를 통해 당신과 도메인 네임 간의 연결을 유지한다.

### 사용 가능한 도메인 네임 찾기
특정 도메인 이름이 사용 가능한지 확인하려면 다음 단계를 따라야 한다.

1. 도메인 이름 등록기관의 웹사이트 방문<br>대부분의 등록기가관은 도메인 네임의 사용 가능 여부를 확일할 수 있는 "whois" 서비스를 제공한다.
2. 터미널에서 whois 명령어 사용<br>쉘을 사용할 수 있는 시스템에서 `whois` 명령어를 입력한다. 예를 들어, mozilla.org에 대해 다음과 같이 입력할 수 있다.
```
whois mozilla.org
```

**결과 예시** <br>
```
Domain Name: MOZILLA.ORG
Domain ID: D1409563-LROR
Creation Date: 1998-01-24T05:00:00Z
Updated Date: 2013-12-08T01:16:57Z
Registry Expiry Date: 2015-01-23T05:00:00Z
Sponsoring Registrar: MarkMonitor Inc. (R37-LROR)
...
Registrant Name: DNS Admin
Registrant Organization: Mozilla Foundation
...
```
이 결과에서 mozilla.org는 이미 Mozilla Foundation에 의해 등록된 것을 확인할 수 있다. 따라서 이 도메인을 등록할 수 없다.

### 도메인 네임 등록하기
도메인 이름을 등록하는 과정은 간단하다.

1. **등록기관의 웹사이트 방문**
2. **양식 작성**
3. **등록 완료 확인**

### DNS 갱신
DNS 데이터베이스는 전 세계 모든 DNS 서버에 저장되어 있으며, 이들 서버는 몇 개의 특별한 서버를 참조한다. 이 서버들은 시스템을 관리하는 **"중앙 관리 서버"** 역할을 한다.<br><br>
등록기관이 특정 도메인에 대한 정보를 생성하거나 업데이트하면, 이 정보는 모든 DNS 데이터베이스에서 갱신되어야 한다. 특정 도메인을 알고 있는 DNS 서버는 정보를 일정 기간 동안 저장한 뒤, 자동으로 무효화되고 갱신된다.
이 과정에서 DNS 서버는 권위 있는 서버에 쿼리를 보내 업데이트 된 정보를 가져온다. 따라서 해당 도메인 이름에 대한 최신 정보가 모든 DNS 서버에 전달되는 데 일정 시간이 소요된다.

## DNS 요청은 어떻게 작동하는가?
브라우저에서 웹 페이지를 표시하려 할 때 IP 주소를 입력하는 것보다 도메인 이름을 입력하는 것이 더 쉽다. 그 과정은 다음과 같다.

1. **도메인 네임 입력**<br>
브라우저 주소창에 `mozilla.org`를 입력한다.
2. **로컬 DNS 캐시 확인**<br>
브라우저는 먼저 컴퓨터에 이 도메인 이름에 해당하는 IP 주소를 이미 알고 있는지 묻는다.
    - 이미 알고 있다면, 도메인 이름이 IP 주소로 변환되고, 브라우저가 웹 서버와 협상하여 콘텐츠를 가져온다.
3. **DNS 서버에 요청**<br>
컴퓨터가 `mozilla.org`라는 이름에 해당하는 IP 주소를 모를 경우, DNS 서버에 요청을 보낸다. DNS 서버는 등록된 각 도메인 이름에 매칭되는 IP 주소를 알려주는 역할을 한다.
4. **IP 주소 확인 및 연결**<br>
컴퓨터가 요청한 IP 주소를 알게 되면, 브라우저는 해당 IP 주소를 통해 웹 서버와 협상하여 콘텐츠를 가져온다.

<br>
<p align="center">
  <img 
    src="https://developer.mozilla.org/en-US/docs/Learn_web_development/Howto/Web_mechanics/What_is_a_domain_name/2014-10-dns-request2.png"
    width="350"
    height="450"
    />
</p>
<br>

### 참고문헌 및 이미지 출처
<p>
  <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Howto/Web_mechanics/What_is_a_domain_name#structure_of_domain_names">
    MDN WEB DOCS
  </a>
</p>
